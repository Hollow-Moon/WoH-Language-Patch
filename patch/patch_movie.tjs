
global.setMovieToWindowSize = function(video, kag=global.kag, window=global.kag)
{
	if(kag.fullScreened)
	{
@if(HD_MODE)
		video.window.absoluteMode += 1;
@endif
		video.setBounds(0, 0, global.System.screenWidth, global.System.screenHeight);
@if(HD_MODE)
		video.window.absoluteMode -= 1;
@endif
	}
	else
	{
		var clientRect = kag.getClientRect();
@if(HD_MODE)
		video.window.absoluteMode += 1;
@endif
		video.setBounds(0, 0, clientRect.w, clientRect.h);
@if(HD_MODE)
		video.window.absoluteMode -= 1;
@endif
	}
};

// Scales [wo,ho] to [we,he], while keeping the same ratio of wo:ho and making sure wo<=we and ho<=he.
global.calculateTouchFromInside = function(wo, ho, we, he)
{
	var h2 = ho * we/wo; // Resulting height if width was scaled
	if(h2 > he)
	{
		// If height is too big, scale based on height
		return [wo * he/ho, he];
	}
	else // scale using width
	{
		return [we, h2];
	}
};
